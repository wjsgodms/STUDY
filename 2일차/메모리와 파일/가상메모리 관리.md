---

# 가상 메모리 개요💻

작은 메모리들이 프로세스를 실행한다. 그렇다면 실행할 프로세스가 메인 메모리보다 큰 경우엔 어떻게 해야 할까?

이 문제를 해결해 주는 것이 바로 가상 메모리이다. 가상 메모리는 메모리 관리를 위한 하나의 시스템이자 기술을 뜻한다.

가변 분할 방식과 고정 분할 방식을 혼합한 기법을 통해 가상 메모리 관리를 구현한다. 이 중 고정 분할 방식에 대해 알아보자.

---

## 고정 분할 방식 

### 페이징

페이징은 고정분할방식이다. 페이징 기법에서는 메모리 공간을 일정한 크기의 페이지로 나누어 다룬다.

공간을 일정한 크기로 나누고 프로세스들을 불연속적으로 올린다면 외부 단편화도 방지할 수 있다.

대신, 페이징 기법 사용시엔 페이지 안에서의 공간이 남는 내부 단편화 라는 문제가 발생될 수 있다.

---

### 페이징 기법에 대해 이해하기 위해선 논리 주소 공간과 물리 주소 공간에 대해 알아볼 필요가 있다.

**논리 주소 공간**은 사용자와 프로세스가 참조하는 공간으로 실제 메모리보다 큰 공간이고, **물리 주소 공간**은 실제 메모리의 공간을 뜻한다

논리 주소 공간은 프로그램이 실행될 떄 사용하는 주소 체계를 의미한다. 프로그램의 가상 주소라고도 불린다.

운영체제는 가상 메모리 시스템을 통해 논리 주소를 물리 주소로 변환한다.

각 프로세스마다 페이지 테이블을 가지고 있고 거기엔 페이지 번호와 프레임 번호가 있다.

논리 주소는 페이지 번호와 오프셋으로 분리 되는데 페이지 번호는 MMU에서 물리 페이지 번호로 변환이 된다. 변환된 물리 페이지 번호와 오프셋을 결합하여 물리 주소가 생성된다.

## 페이지 테이블 엔트리

페이지 테이블의 각 행에는 다양한 정보들이 포함되어있다.

    접근비트 : 페이지가 메모리에 올라온 후 데이터에 접근이 있었는지
    변경비트 : 페이지가 메모리에 올라온 후 데이터의 변경이 있었는지
    유효비트 : 페이지가 어디에 있는지
    보호비트 : 페이지에 대한 읽기, 쓰기, 실행 권한이 어떻게 되는지

---
## 페이지드 세그멘테이션 🤍

기변 분할 방식과 고정 분할 방식을 결합한 가살 메모리 관리 기법이다.

이 기법은 효율적인 메모리 관리와 유연성을 제공한다.

세그멘테이션은 가변 분할 방식이라 코드 영역 데이터 영역 스택 영역 등 논리적으로 나누어져 있는 영역을 구분해서 관리할 수 있다.
대신 외부 단편화가 발생할 수도 있다.

반면, 페이징은 고정 분할 방식이어서 프로세스의 논리적인 영역들을 나누어서 관리할 수는 없다. 대신, 세그멘테이션에 비해 메모리  관리 효율이 더 나은 편이다

#### 페이지 세그멘테이션은 세그멘테이션을 사용하면서 각 세그먼트 안을 페이지로 나누는 기법이다
#### 즉, 세그멘트는 논리적 단위로 존재하고, 각 세그멘트는 다시 페이지로 나뉘어 고정 크기의 블록으로 분할되어 물리 메모리로 배치되는 방식이다.

세그멘테이션의 유연성과 페이지의 효유성을 결합한 방식으로, 메모리 관리에서 더 유연하고 효율적인 방식이 될 수 있다.


